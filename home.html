<html>

<head>

<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>台灣交通工具資訊彙整平台</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/clean-blog.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
	
<style type="text/css">


@import url(menuTab/menuTab.css); 
@import url(home.css); 

</style>
</head>

<body>

	    <div id="fixed">
			<ul class="navigation"> 
			<li><a href="#">Home</a></li>  
			<li><a href="#">About</a></li>  
			<li><a href="#">Products</a></li>  
			<li><a href="#">Contact</a></li>
			</ul>
	    </div>
		<div class="row" style="background-image: url('img/home-bg.jpg')"></div>

	<header class="intro-header" style="background-image: url('img/home-bg.jpg')">

        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="site-heading">
                        <h1>台灣交通工具<br>資訊彙整平台</h1>
                        <hr class="small">
                        <span class="subheading">Let's Chain Up !</span>
                    </div>
                </div>
            </div>
        </div>
    </header>


<div id="tabsF">
<ul>
<li id="current"><a href="javascript://" onclick="loadTab(this,1);" id="F1"><span>火車</span></a></li>
<li><a href="javascript://" onclick="loadTab(this,2);" id="F2"><span>高鐵</span></a></li>
<li><a href="javascript://" onclick="loadTab(this,3);" id="F3"><span>客運</span></a></li>
<li><a href="javascript://" onclick="loadTab(this,4);" id="F4"><span>公車</span></a></li>
<li><a href="javascript://" onclick="loadTab(this,5);" id="F5"><span>捷運</span></a></li>
</ul>
</div>

<div id="tabsC">
    <div id="S1" style="display:inline;">
      日期：<input type="text" name="txt2" onfocus="c.showMoreDay = false;c.show(this);" />


      <form name="station">                  
	<p align="center">                             
	<select name="major" size="1" onChange="redirect(this.options.selectedIndex)">
	  <option>台北</option>
	  <option>桃園</option>
	  <option>新竹</option>
	  <option>苗栗</option>
	  <option>台中</option>
	  <option>彰化</option>
	  <option>雲林</option>
	  <option>嘉義</option>
	  <option>台南</option>
	  <option>高雄</option>
	  <option>屏東</option>
	  <option>台東</option>
	  <option>花蓮</option>
	  <option>宜蘭</option>
	  <option>平溪線</option>
	  <option>內灣線</option>
	  <option>集集線</option>
	  <option>沙崙線</option>
	  <option>深奧線</option>
	</select>
	<select name="sub" size="1">
	  <option value="..">福隆</option>
	  <option value="..">貢寮</option>
	  <option value="..">雙溪</option>
	  <option value="..">牡丹</option>
	  <option value="..">三貂嶺</option>
	  <option value="..">侯硐</option>       
	  <option value="..">瑞芳</option>  
	  <option value="..">四腳亭</option>
	  <option value="..">暖暖</option>
	  <option value="..">基隆</option>
	  <option value="..">八堵</option>
	  <option value="..">七堵</option>
	  <option value="..">五堵</option>
	  <option value="..">汐止</option>
	  <option value="..">南港</option>
	  <option value="..">松山</option>
	  <option value="..">台北</option>
	  <option value="..">萬華</option>
	  <option value="..">板橋</option>
	  <option value="..">浮洲</option>
	  <option value="..">樹林</option>
	  <option value="..">山佳</option>
	  <option value="..">鶯歌</option>
	</select>						
	<input type="button" name="test" value="Go!" onClick="go()"></p> 
      </form>            																												  
      <script language="JavaScript">
var groups=document.station.major.options.length  
var group=new Array(groups)  
  for (i=0; i<groups; i++) group[i]=new Array();
  group[0][0]=new Option("福隆","..") 
  group[0][1]=new Option("貢寮","..") 
  group[0][2]=new Option("雙溪","..") 
  group[0][3]=new Option("牡丹","..") 
  group[0][4]=new Option("三貂嶺","..") 
  group[0][5]=new Option("猴硐","..") 
  group[0][6]=new Option("瑞芳","..") 
  group[0][7]=new Option("四腳亭","..") 
  group[0][8]=new Option("暖暖","..")  
  group[0][9]=new Option("基隆","..") 
  group[0][10]=new Option("三坑","..")  
  group[0][11]=new Option("八堵","..")  
  group[0][12]=new Option("七堵","..") 
  group[0][13]=new Option("百福","..")  
  group[0][14]=new Option("五堵","..")  
  group[0][15]=new Option("汐止","..")
  group[0][16]=new Option("汐科","..")   
  group[0][17]=new Option("南港","..")  
  group[0][18]=new Option("松山","..")  
  group[0][19]=new Option("台北","..") 
  group[0][20]=new Option("萬華","..")   
  group[0][21]=new Option("板橋","..")  
  group[0][22]=new Option("浮洲","..")  
  group[0][23]=new Option("樹林","..") 
  group[0][24]=new Option("山佳","..") 
  group[0][25]=new Option("鶯歌","..") 
  group[1][0]=new Option("桃園","..")  
  group[1][1]=new Option("內壢","..")  
  group[1][2]=new Option("中壢","..")  
  group[1][3]=new Option("埔心","..")
  group[1][4]=new Option("楊梅","..")  
  group[1][6]=new Option("富岡","..")
  group[2][0]=new Option("湖口","..")  
  group[2][1]=new Option("新豐","..") 
  group[2][2]=new Option("竹北","..")  
  group[2][3]=new Option("北新竹","..")  
  group[2][4]=new Option("新竹","..")  
  group[2][5]=new Option("香山","..") 
  group[3][0]=new Option("崎頂","..") 
  group[3][1]=new Option("竹南","..") 
  group[3][2]=new Option("談文","..") 
  group[3][3]=new Option("大山","..") 
  group[3][4]=new Option("後龍","..") 
  group[3][5]=new Option("龍港","..") 
  group[3][6]=new Option("白沙屯","..") 
  group[3][7]=new Option("新埔","..") 
  group[3][8]=new Option("通霄","..") 
  group[3][9]=new Option("苑裡","..") 
  group[3][10]=new Option("造橋","..") 
  group[3][11]=new Option("豐富","..") 
  group[3][12]=new Option("苗栗","..") 
  group[3][13]=new Option("南勢","..") 
  group[3][14]=new Option("銅鑼","..") 
  group[3][15]=new Option("三義","..") 
  group[4][0]=new Option("日南","..") 
  group[4][1]=new Option("大甲","..") 
  group[4][2]=new Option("台中港","..") 
  group[4][3]=new Option("清水","..") 
  group[4][4]=new Option("沙鹿","..") 
  group[4][5]=new Option("龍井","..") 
  group[4][6]=new Option("大肚","..") 
  group[4][7]=new Option("追分","..") 
  group[4][8]=new Option("泰安","..") 
  group[4][9]=new Option("后里","..") 
  group[4][10]=new Option("豐原","..") 
  group[4][11]=new Option("潭子","..") 
  group[4][12]=new Option("太原","..") 
  group[4][13]=new Option("台中","..") 
  group[4][14]=new Option("大慶","..") 
  group[4][15]=new Option("烏日","..") 
  group[4][16]=new Option("新烏日","..") 
  group[4][17]=new Option("成功","..") 
  group[5][0]=new Option("彰化","..") 
  group[5][1]=new Option("花壇","..") 
  group[5][2]=new Option("大村","..") 
  group[5][3]=new Option("員林","..") 
  group[5][4]=new Option("永靖","..") 
  group[5][5]=new Option("社頭","..") 
  group[5][6]=new Option("田中","..") 
  group[5][7]=new Option("二水","..") 
  group[6][0]=new Option("林內","..") 
  group[6][1]=new Option("石榴","..") 
  group[6][2]=new Option("斗六","..") 
  group[6][3]=new Option("斗南","..") 
  group[6][4]=new Option("石龜","..")  
  group[7][0]=new Option("大林","..")  
  group[7][1]=new Option("民雄","..")  
  group[7][2]=new Option("嘉北","..")  
  group[7][3]=new Option("嘉義","..")  
  group[7][4]=new Option("水上","..")  
  group[7][5]=new Option("南靖","..")
  //台南
  group[8][0]=new Option("後壁","..")
  group[8][1]=new Option("新營","..")
  group[8][2]=new Option("柳營","..")
  group[8][3]=new Option("林鳳營","..")
  group[8][4]=new Option("隆田","..")
  group[8][5]=new Option("拔林","..")
  group[8][6]=new Option("善化","..")
  group[8][7]=new Option("南科","..")
  group[8][8]=new Option("新市","..")
  group[8][9]=new Option("永康","..")
  group[8][10]=new Option("大橋","..")
  group[8][11]=new Option("台南","..")
  group[8][12]=new Option("保安","..")
  group[8][14]=new Option("仁德","..")
  group[8][15]=new Option("中洲","..")
  group[8][16]=new Option("長榮大學","..")
  group[8][17]=new Option("沙崙","..")
  //高雄
  group[9][0]=new Option("大湖","..")
  group[9][1]=new Option("路竹","..")
  group[9][2]=new Option("岡山","..")
  group[9][3]=new Option("橋頭","..")
  group[9][4]=new Option("楠梓","..")
  group[9][5]=new Option("新左營","..")
  group[9][6]=new Option("左營","..")
  group[9][7]=new Option("高雄","..")
  group[9][8]=new Option("鳳山","..")
  group[9][9]=new Option("後庄","..")
  group[9][10]=new Option("九曲堂","..")
  //屏東
  group[10][0]=new Option("六塊厝","..")
  group[10][1]=new Option("屏東","..")
  group[10][2]=new Option("歸來","..")
  group[10][3]=new Option("麟洛","..")
  group[10][4]=new Option("西勢","..")
  group[10][5]=new Option("竹田","..")
  group[10][6]=new Option("潮州","..")
  group[10][7]=new Option("崁頂","..")
  group[10][8]=new Option("南州","..")
  group[10][9]=new Option("鎮安","..")
  group[10][10]=new Option("林邊","..")
  group[10][11]=new Option("佳冬","..")
  group[10][12]=new Option("東海","..")
  group[10][13]=new Option("枋寮","..")
  group[10][14]=new Option("加祿","..")
  group[10][15]=new Option("內獅","..")
  group[10][16]=new Option("枋山","..")
  //台東
  group[11][0]=new Option("古莊","..")
  group[11][1]=new Option("大武","..")
  group[11][2]=new Option("瀧溪","..")
  group[11][3]=new Option("多良","..")
  group[11][4]=new Option("金崙","..")
  group[11][5]=new Option("太麻里","..")
  group[11][6]=new Option("知本","..")
  group[11][7]=new Option("康樂","..")
  group[11][16]=new Option("池上","..")
  group[11][15]=new Option("海端","..")
  group[11][14]=new Option("關山","..")
  group[11][13]=new Option("月美","..")
  group[11][12]=new Option("瑞和","..")
  group[11][11]=new Option("瑞源","..")
  group[11][10]=new Option("鹿野","..")
  group[11][9]=new Option("山里","..")
  group[11][8]=new Option("台東","..")
  //花蓮
  group[12][25]=new Option("和平","..")
  group[12][24]=new Option("和仁","..")
  group[12][23]=new Option("崇德","..")
  group[12][22]=new Option("新城","..")
  group[12][21]=new Option("景美","..")
  group[12][20]=new Option("北埔","..")
  group[12][19]=new Option("花蓮","..")
  group[12][18]=new Option("吉安","..")
  group[12][17]=new Option("志學","..")
  group[12][16]=new Option("平和","..")
  group[12][15]=new Option("壽豐","..")
  group[12][14]=new Option("豐田","..")
  group[12][13]=new Option("溪口","..")
  group[12][12]=new Option("南平","..")
  group[12][11]=new Option("鳳林","..")
  group[12][10]=new Option("萬榮","..")
  group[12][9]=new Option("光復","..")
  group[12][8]=new Option("大富","..")
  group[12][7]=new Option("富源","..")
  group[12][6]=new Option("瑞穗","..")
  group[12][5]=new Option("三民","..")
  group[12][4]=new Option("玉里","..")
  group[12][3]=new Option("安通","..")
  group[12][2]=new Option("東里","..")
  group[12][1]=new Option("東竹","..")
  group[12][0]=new Option("富里","..")
  //宜蘭
  group[13][21]=new Option("石城","..")
  group[13][20]=new Option("大里","..")
  group[13][19]=new Option("大溪","..")
  group[13][18]=new Option("龜山","..")
  group[13][17]=new Option("外澳","..")
  group[13][16]=new Option("頭城","..")
  group[13][15]=new Option("頂埔","..")
  group[13][14]=new Option("礁溪","..")
  group[13][13]=new Option("四城","..")
  group[13][12]=new Option("宜蘭","..")
  group[13][11]=new Option("二結","..")
  group[13][10]=new Option("中里","..")
  group[13][9]=new Option("羅東","..")
  group[13][8]=new Option("冬山","..")
  group[13][7]=new Option("新馬","..")
  group[13][6]=new Option("蘇澳新","..")
  group[13][5]=new Option("蘇澳","..")
  group[13][4]=new Option("永樂","..")
  group[13][3]=new Option("東澳","..")
  group[13][2]=new Option("南澳","..")
  group[13][1]=new Option("武塔","..")
  group[13][0]=new Option("漢本","..")
  //平溪線
  group[14][6]=new Option("三貂嶺","..")
  group[14][5]=new Option("大華","..")
  group[14][4]=new Option("十分","..")
  group[14][3]=new Option("望古","..")
  group[14][2]=new Option("嶺腳","..")
  group[14][1]=new Option("平溪","..")
  group[14][0]=new Option("菁桐","..")
  //內灣線
  group[15][0]=new Option("新竹","..")
  group[15][1]=new Option("北新竹","..")
  group[15][2]=new Option("千甲","..")
  group[15][3]=new Option("新莊","..")
  group[15][4]=new Option("竹中","..")
  group[15][5]=new Option("六家","..")
  group[15][6]=new Option("上員","..")
  group[15][7]=new Option("榮華","..")
  group[15][8]=new Option("竹東","..")
  group[15][9]=new Option("橫山","..")
  group[15][10]=new Option("九讚頭","..")
  group[15][11]=new Option("合興","..")
  group[15][12]=new Option("富貴","..")
  group[15][13]=new Option("內灣","..")
  //集集線
  group[16][0]=new Option("二水","..") 
  group[16][1]=new Option("源泉","..")
  group[16][2]=new Option("濁水","..")
  group[16][3]=new Option("龍泉","..")
  group[16][4]=new Option("集集","..")
  group[16][5]=new Option("水里","..")
  group[16][6]=new Option("車埕","..")
  //沙崙線
  group[17][0]=new Option("長榮大學","..")
  group[17][1]=new Option("沙崙","..")
  //深澳線
  group[18][0]=new Option("海科館","..")


  var temp=document.station.sub  
  function redirect(x){  
     for (m=temp.options.length-1;m>0;m--)  
        temp.options[m]=null  
	   for (i=0;i<group[x].length;i++){  
	      temp.options[i]=new Option(group[x][i].text,group[x][i].value)  
	   }  
     temp.options[0].selected=true  
  }  
function go(){  
  location=temp.options[temp.selectedIndex].value  
}  		
 </script>      
    </div>
    <div id="S2" style="display:none;">	
		<h2>交通工具：
		<label>
			<select id="category">
				<option selected> 高鐵 </option>
			</select>
		</label></h2>
		<h2>北上/南下：
		<label>	
			<select id="direction">
				<option value="1" selected> 北上 </option>
				<option value="2"> 南下 </option>
			</select>
		</label></h2>
		<h2>搭車時間：
		<label>
			<select id="boardtime">
				<option value="6"selected> 06:00 </option>
				<option value="7"> 07:00 </option>
				<option value="8"> 08:00 </option>
				<option value="9"> 09:00 </option>
				<option value="10"> 10:00 </option>
				<option value="11"> 11:00 </option>
				<option value="12"> 12:00 </option>
				<option value="13"> 13:00 </option>
				<option value="14"> 14:00 </option>
				<option value="15"> 15:00 </option>
				<option value="16"> 16:00 </option>
				<option value="17"> 17:00 </option>
				<option value="18"> 18:00 </option>
				<option value="19"> 19:00 </option>
				<option value="20"> 20:00 </option>
				<option value="21"> 21:00 </option>
				<option value="22"> 22:00 </option>
				<option value="23"> 23:00 </option>
				<option value="24"> 24:00 </option>
			</select>
		</label></h2>
		<h2>上車車站：
		<label>
			<select id="boardstation">
				<option value="s1"selected> 台北站 </option>
				<option value="s2">板橋站</option>
				<option value="s3">桃園站</option>
				<option value="s4">新竹站</option>
				<option value="s5">台中站</option>
				<option value="s6">嘉義站</option>
				<option value="s7">台南站</option>
				<option value="s8">左營站</option>
			</select>
		</label></h2>
		<h2>下車車站：
		<label>
			<select id="destination">
				<option value="s1"selected> 台北站 </option>
				<option value="s2">板橋站</option>
				<option value="s3">桃園站</option>
				<option value="s4">新竹站</option>
				<option value="s5">台中站</option>
				<option value="s6">嘉義站</option>
				<option value="s7">台南站</option>
				<option value="s8">左營站</option>
			</select>
		</label></h2>		
		<button onclick="selectitem()">Send</button>
		<div id="table"></div>
	</div>
      <div id="S3" style="display:none;">Link 3 內容...</div>
      <div id="S4" style="display:none;">Link 4 內容...</div>
      <div id="S5" style="display:none;">Link 5 內容...</div>
	  
</div>

<!-- jQuery -->
<script src="js/jquery.js"></script>
<script type="text/javascript" src="http://www.parsecdn.com/js/parse-latest.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript">
    Parse.initialize("eXa6XCYsez7lkZpf2ytbtRinq0STc1w9NvJkkf4p", "H4gpX9rYLfaYccdgjxP6OH48bPfK2jHeM8e1dr8Z");
	function selectitem(){
	var check1=$('#boardstation').val();
	check1 = check1.substr(1,1);
	check1 = parseInt(check1);
	var check2=$('#destination').val();
	check2 = check2.substr(1,1);
	check2 = parseInt(check2);
	
    if($('#direction').val()==1)
	{
	if(check1>check2){
	var tonorth = Parse.Object.extend("tonorth"); 
		
	var query = new Parse.Query(tonorth);  
	//query.equalTo("$('#direction').val()");  
	query.find({  
	success: function(results) {  
   //alert("Successfully retrieved " + results.length + " scores.");  
   // Do something with the returned Parse.Object values 
	var test2="";
	var test2= '車次' + '	' + '發車時間'+ '	' + '抵達時間' +'<br>';
	var b = $('#boardstation').val();
	var d =$('#destination').val();
	var j =parseInt($('#boardtime').val());
	var temp2="";
   for (var i = 0; i < results.length; i++) {  
    var object = results[i];  
    //alert(object.get('s1')); 
	temp2=object.get(b);
	temp2 = temp2.substr(0,2);
	temp2 = parseInt(temp2);
	if(temp2>=j)
	{
	test2 =  test2 + '	' + object.get('train') + '		' +object.get(b)+ '		' +object.get(d)+ '		' +'<br>';
	}
   }
	test2 = '<p>' + '-為不停靠或不發車' + '<br>' + test2 + '</p>';
   //alert(test2);
   //$("#table").html('<p>-為不停靠或不發車</p>');
   $("#table").html(test2);
  },  
  error: function(error) {  
   alert("Error: " + error.code + " " + error.message);  
  }  
 });
	}
	else{alert("目前選擇北上，請確認上下車站位置");}
	}
	else
	{
	if(check2>check1){
	var tosouth = Parse.Object.extend("tosouth"); 
		
	var query = new Parse.Query(tosouth);  
 //query.equalTo("playerName", "Dan Stemkoski");  
	query.find({  
	success: function(results) {  
   //alert("Successfully retrieved " + results.length + " scores.");  
   // Do something with the returned Parse.Object values 
	var test= '車次' + '	' + '發車時間'+ '	' + '抵達時間' +'<br>';
	var b = $('#boardstation').val();
	var d =$('#destination').val();
	var k =parseInt($('#boardtime').val());
	var temp="";
   for (var i = 0; i < results.length; i++) {  
    var object = results[i];  
    //alert(object.get('s1')); 
	temp=object.get(b);
	temp = temp.substr(0,2);
	temp = parseInt(temp);
	if(temp>=k)
	{
	test =  test + '	' + object.get('train') + '		' +object.get(b)+ '		' +object.get(d)+ '		' +'<br>';
	}
   }
	test = '<p>' + '-為不停靠或不發車' + '<br>'+ test + '</p>';
   //alert(test);
   //$("#table").html('<p>-為不停靠或不發車</p>');
   $("#table").html(test);
   //alert(temp);
  },  
  error: function(error) {  
   alert("Error: " + error.code + " " + error.message);  
  }  
 });
 }
 else{alert("目前選擇南下，請確認上下車站位置");}
	}
	}
    
 </script>
 <script>
 function loadTab(obj,n){

var layer;
eval('layer=\'S'+n+'\'');

//將 Tab 標籤樣式設成 Blur 型態
var tabsF=document.getElementById('tabsF').getElementsByTagName('li');
for (var i=0;i<tabsF.length;i++){
    tabsF[i].setAttribute('id',null);
     eval('document.getElementById(\'S'+(i+1)+'\').style.display=\'none\'')
}

//變更分頁標題樣式
obj.parentNode.setAttribute('id','current');
document.getElementById(layer).style.display='inline';

}
 </script>
	
	
</body>

</html>	
